import{g as z,K as I,J as O,L as U,z as $,c as R,A as V,G,o as s,e as g,l as _,i as l,j as i,h as d,F as h,p as E,f as y,t as m,av as F,q as L,k as c}from"./index-cc9450de.js";import{_ as M}from"./loading-empty-wrapper.vue_vue_type_script_setup_true_lang-d457c53f.js";import{_ as P}from"./g-image-cd4f0901.js";/* empty css              *//* empty css                                                              */import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                                */const A={class:"label"},D={class:"tag"},H=["onClick","href"],J=z({__name:"index",setup(K){const p=I(),N=O(),t=U(),u=$(!1),f=R(()=>{var e;return parseInt((e=p.query.pageNo)==null?void 0:e.toString())||1});function q(){t.setHide()}function k(o){let e=Object.assign({},p.query);return e.pageNo=o+"",e.q=t.q,p.path+"?"+Object.keys(e).map(a=>a+"="+encodeURIComponent(e[a])).join("&")}V(()=>{var a,r;let o=(a=p.query.q)==null?void 0:a.toString(),e=parseInt((r=p.query.pageNo)==null?void 0:r.toString())||1;console.info("search q",o,t.q,o==t.q,t.page.pageNo==e),o&&(o==t.q&&t.page.pageNo==e&&t.list.length>0||x({q:o,pageNo:e}))});async function v(o){let e=p.path,a=Object.assign({},{q:t.q,pageNo:o});N.push(e+"?"+Object.keys(a).map(r=>r+"="+encodeURIComponent(a[r])).join("&"))}async function x(o){var e,a;(e=globalThis.$loadingBar)==null||e.start(),u.value=!0,await t.search(o),(a=globalThis.$loadingBar)==null||a.finish(),u.value=!1}return(o,e)=>{const a=P,r=G("router-link"),C=c.NGi,S=c.NGrid,b=M,j=c.NCard,w=c.NSpin,B=c.NPagination;return s(),g("div",null,[_(w,{show:u.value,size:"large"},{default:l(()=>[_(j,{class:"module-page"},{header:l(()=>[]),default:l(()=>[i(t).list.length>0?(s(),d(S,{key:0,cols:"xs:2 s:4 m:5 l:6 xl:7 2xl:12",responsive:"screen","x-gap":"3 x:6 s:9 m:12","y-gap":"3 x:6 s:9 m:12"},{default:l(()=>[(s(!0),g(h,null,E(i(t).list,n=>(s(),d(C,{key:n.id,span:"1",class:"min-h-90px"},{default:l(()=>[_(r,{to:"/video/detail/"+n.id,class:"v-item",onClick:q},{default:l(()=>[_(a,{src:n.logo,alt:n.title},null,8,["src","alt"]),y("p",A,m(n.title),1),y("p",D,m(o.$t("video.updated"))+" "+m(n.quality),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):(s(),d(b,{key:1,class:"h-360px",loading:u.value,empty:""},null,8,["loading"]))]),_:1})]),_:1},8,["show"]),i(t).list.length>0?(s(),d(B,{key:0,page:f.value,"onUpdate:page":[e[0]||(e[0]=n=>f.value=n),v],"page-slot":10,"item-count":i(t).page.total,"page-size":i(t).page.pageSize,class:"mt-10px"},{label:l(n=>[n.type=="page"?(s(),g("a",{key:0,onClick:F(()=>{},["prevent"]),href:`${k(n.node)}`},m(n.node),9,H)):(s(),g(h,{key:1},[],64))]),_:1},8,["page","item-count","page-size"])):L("",!0)])}}}),oe=T(J,[["__scopeId","data-v-7bced922"]]);export{oe as default};
