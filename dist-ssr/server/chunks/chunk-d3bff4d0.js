import{NCard as q,NGradientText as E,NSelect as F,NButton as H,NSpace as J}from"naive-ui/dist/index.js";import{defineComponent as K,watch as L,resolveDirective as M,mergeProps as P,withCtx as r,unref as s,createTextVNode as t,toDisplayString as B,openBlock as p,createBlock as f,createCommentVNode as k,createVNode as c,withDirectives as S,useSSRContext as Q}from"vue";import{ssrRenderAttrs as W,ssrRenderComponent as a,ssrInterpolate as X,ssrGetDirectiveProps as C}from"vue/server-renderer";import{u as Y,g as Z,s as h,v as ee}from"../entries/pages_all-page-server.mjs";import"crypto-js";import"qs";import"form-data";import"@vue/server-renderer";import"vite-plugin-ssr/server";import"@ai-lion/liondb";import"buffer";import"pinia";import"@soybeanjs/vue-materials";import"colord";import"colord/plugins/names";import"colord/plugins/mix";import"lru-cache";import"@vueuse/core";import"lodash-es";import"vue-router";import"vue-i18n/dist/vue-i18n.cjs.js";import"ua-parser-js";import"axios";import"@iconify/vue";import"url";const G=K({__name:"index",__ssrInlineRender:!0,setup($){const w=Y(),l=Z(),{hasPermission:m}=h(),g=ee;return L(()=>l.userInfo.userRole,async()=>{w.reloadPage()}),(z,N,T,O)=>{const j=q,y=E,U=F,i=H,D=J,x=M("permission");N(`<div${W(P({class:"h-full"},O))}>`),N(a(j,{title:"权限切换",class:"h-full shadow-sm rounded-16px"},{default:r((re,n,v,o)=>{if(n)n(`<div class="pb-12px"${o}>`),n(a(y,{type:"primary",size:20},{default:r((R,e,d,u)=>{if(e)e(`当前用户的权限：${X(s(l).userInfo.userRole)}`);else return[t("当前用户的权限："+B(s(l).userInfo.userRole),1)]}),_:1},v,o)),n("</div>"),n(a(U,{value:s(l).userInfo.userRole,class:"w-120px",size:"small",options:s(g),"onUpdate:value":s(l).updateUserRole},null,v,o)),n(`<div class="py-12px"${o}>`),n(a(y,{type:"primary",size:20},{default:r((R,e,d,u)=>{if(e)e("权限指令 v-permission");else return[t("权限指令 v-permission")]}),_:1},v,o)),n(`</div><div${o}>`),n(a(i,P({class:"mr-12px"},C(z,x,"super")),{default:r((R,e,d,u)=>{if(e)e("super可见");else return[t("super可见")]}),_:1},v,o)),n(a(i,P({class:"mr-12px"},C(z,x,"admin")),{default:r((R,e,d,u)=>{if(e)e("admin可见");else return[t("admin可见")]}),_:1},v,o)),n(a(i,C(z,x,["admin","user"]),{default:r((R,e,d,u)=>{if(e)e("admin和test可见");else return[t("admin和test可见")]}),_:1},v,o)),n(`</div><div class="py-12px"${o}>`),n(a(y,{type:"primary",size:20},{default:r((R,e,d,u)=>{if(e)e("权限函数 hasPermission");else return[t("权限函数 hasPermission")]}),_:1},v,o)),n("</div>"),n(a(D,null,{default:r((R,e,d,u)=>{if(e)s(m)("super")?e(a(i,null,{default:r((I,_,b,A)=>{if(_)_("super可见");else return[t("super可见")]}),_:1},d,u)):e("<!---->"),s(m)("admin")?e(a(i,null,{default:r((I,_,b,A)=>{if(_)_("admin可见");else return[t("admin可见")]}),_:1},d,u)):e("<!---->"),s(m)(["admin","user"])?e(a(i,null,{default:r((I,_,b,A)=>{if(_)_("admin和user可见");else return[t("admin和user可见")]}),_:1},d,u)):e("<!---->");else return[s(m)("super")?(p(),f(i,{key:0},{default:r(()=>[t("super可见")]),_:1})):k("",!0),s(m)("admin")?(p(),f(i,{key:1},{default:r(()=>[t("admin可见")]),_:1})):k("",!0),s(m)(["admin","user"])?(p(),f(i,{key:2},{default:r(()=>[t("admin和user可见")]),_:1})):k("",!0)]}),_:1},v,o));else return[c("div",{class:"pb-12px"},[c(y,{type:"primary",size:20},{default:r(()=>[t("当前用户的权限："+B(s(l).userInfo.userRole),1)]),_:1})]),c(U,{value:s(l).userInfo.userRole,class:"w-120px",size:"small",options:s(g),"onUpdate:value":s(l).updateUserRole},null,8,["value","options","onUpdate:value"]),c("div",{class:"py-12px"},[c(y,{type:"primary",size:20},{default:r(()=>[t("权限指令 v-permission")]),_:1})]),c("div",null,[S((p(),f(i,{class:"mr-12px"},{default:r(()=>[t("super可见")]),_:1})),[[x,"super"]]),S((p(),f(i,{class:"mr-12px"},{default:r(()=>[t("admin可见")]),_:1})),[[x,"admin"]]),S((p(),f(i,null,{default:r(()=>[t("admin和test可见")]),_:1})),[[x,["admin","user"]]])]),c("div",{class:"py-12px"},[c(y,{type:"primary",size:20},{default:r(()=>[t("权限函数 hasPermission")]),_:1})]),c(D,null,{default:r(()=>[s(m)("super")?(p(),f(i,{key:0},{default:r(()=>[t("super可见")]),_:1})):k("",!0),s(m)("admin")?(p(),f(i,{key:1},{default:r(()=>[t("admin可见")]),_:1})):k("",!0),s(m)(["admin","user"])?(p(),f(i,{key:2},{default:r(()=>[t("admin和user可见")]),_:1})):k("",!0)]),_:1})]}),_:1},T)),N("</div>")}}}),V=G.setup;G.setup=($,w)=>{const l=Q();return(l.modules||(l.modules=new Set)).add("src/views/auth-demo/permission/index.vue"),V?V($,w):void 0};export{G as default};
