import{NSpin as Z,NCard as ee,NGrid as te,NGi as le,NPagination as ae}from"naive-ui/dist/index.js";import{_ as oe}from"./chunk-77fa2acc.js";import{_ as se}from"./chunk-c017eb19.js";import{defineComponent as ne,ref as re,computed as ie,onMounted as pe,resolveComponent as de,withCtx as s,unref as d,createVNode as a,toDisplayString as n,openBlock as i,createBlock as p,Fragment as C,renderList as z,withModifiers as ce,useSSRContext as ue}from"vue";import{ssrRenderAttrs as ge,ssrRenderComponent as m,ssrRenderList as me,ssrInterpolate as S,ssrRenderAttr as _e}from"vue/server-renderer";/* empty css              */import{c as fe}from"../entries/pages_all-page-server.mjs";import"crypto-js";import"qs";import"form-data";import{useRoute as ve,useRouter as ye}from"vue-router";import{_ as xe}from"./chunk-c27b6911.js";import"@vue/server-renderer";import"vite-plugin-ssr/server";import"@ai-lion/liondb";import"buffer";import"pinia";import"@soybeanjs/vue-materials";import"colord";import"colord/plugins/names";import"colord/plugins/mix";import"lru-cache";import"@vueuse/core";import"lodash-es";import"vue-i18n/dist/vue-i18n.cjs.js";import"ua-parser-js";import"axios";import"@iconify/vue";import"url";const A=ne({__name:"index",__ssrInlineRender:!0,setup(G){const u=ve(),b=ye(),l=fe(),v=re(!1),L=ie(()=>{var e;return parseInt((e=u.query.pageNo)==null?void 0:e.toString())||1});function q(){l.setHide()}function M(o){let e=Object.assign({},u.query);return e.pageNo=o+"",e.q=l.q,u.path+"?"+Object.keys(e).map(r=>r+"="+encodeURIComponent(e[r])).join("&")}pe(()=>{var r,_;let o=(r=u.query.q)==null?void 0:r.toString(),e=parseInt((_=u.query.pageNo)==null?void 0:_.toString())||1;console.info("search q",o,l.q,o==l.q,l.page.pageNo==e),o&&(o==l.q&&l.page.pageNo==e&&l.list.length>0||H({q:o,pageNo:e}))});async function F(o){let e=u.path,r=Object.assign({},{q:l.q,pageNo:o});b.push(e+"?"+Object.keys(r).map(_=>_+"="+encodeURIComponent(r[_])).join("&"))}async function H(o){var e,r;(e=globalThis.$loadingBar)==null||e.start(),v.value=!0,await l.search(o),(r=globalThis.$loadingBar)==null||r.finish(),v.value=!1}return(o,e,r,_)=>{const E=Z,P=ee,R=te,h=le,k=de("router-link"),y=se,w=oe,J=ae;e(`<div${ge(_)} data-v-7bced922>`),e(m(E,{show:v.value,size:"large"},{default:s((c,x,T,j)=>{if(x)x(m(P,{class:"module-page"},{header:s((g,$,I,O)=>{if(!$)return[]}),default:s((g,$,I,O)=>{if($)d(l).list.length>0?$(m(R,{cols:"xs:2 s:4 m:5 l:6 xl:7 2xl:12",responsive:"screen","x-gap":"3 x:6 s:9 m:12","y-gap":"3 x:6 s:9 m:12"},{default:s((f,N,K,Q)=>{if(N)N("<!--[-->"),me(d(l).list,t=>{N(m(h,{key:t.id,span:"1",class:"min-h-90px"},{default:s((qe,V,W,X)=>{if(V)V(m(k,{to:"/video/detail/"+t.id,class:"v-item",onClick:q},{default:s((ke,U,Y,B)=>{if(U)U(m(y,{src:t.logo,alt:t.title},null,Y,B)),U(`<p class="label" data-v-7bced922${B}>${S(t.title)}</p><p class="tag" data-v-7bced922${B}>${S(o.$t("video.updated"))} ${S(t.quality)}</p>`);else return[a(y,{src:t.logo,alt:t.title},null,8,["src","alt"]),a("p",{class:"label"},n(t.title),1),a("p",{class:"tag"},n(o.$t("video.updated"))+" "+n(t.quality),1)]}),_:2},W,X));else return[a(k,{to:"/video/detail/"+t.id,class:"v-item",onClick:q},{default:s(()=>[a(y,{src:t.logo,alt:t.title},null,8,["src","alt"]),a("p",{class:"label"},n(t.title),1),a("p",{class:"tag"},n(o.$t("video.updated"))+" "+n(t.quality),1)]),_:2},1032,["to"])]}),_:2},K,Q))}),N("<!--]-->");else return[(i(!0),p(C,null,z(d(l).list,t=>(i(),p(h,{key:t.id,span:"1",class:"min-h-90px"},{default:s(()=>[a(k,{to:"/video/detail/"+t.id,class:"v-item",onClick:q},{default:s(()=>[a(y,{src:t.logo,alt:t.title},null,8,["src","alt"]),a("p",{class:"label"},n(t.title),1),a("p",{class:"tag"},n(o.$t("video.updated"))+" "+n(t.quality),1)]),_:2},1032,["to"])]),_:2},1024))),128))]}),_:1},I,O)):$(m(w,{class:"h-360px",loading:v.value,empty:""},null,I,O));else return[d(l).list.length>0?(i(),p(R,{key:0,cols:"xs:2 s:4 m:5 l:6 xl:7 2xl:12",responsive:"screen","x-gap":"3 x:6 s:9 m:12","y-gap":"3 x:6 s:9 m:12"},{default:s(()=>[(i(!0),p(C,null,z(d(l).list,f=>(i(),p(h,{key:f.id,span:"1",class:"min-h-90px"},{default:s(()=>[a(k,{to:"/video/detail/"+f.id,class:"v-item",onClick:q},{default:s(()=>[a(y,{src:f.logo,alt:f.title},null,8,["src","alt"]),a("p",{class:"label"},n(f.title),1),a("p",{class:"tag"},n(o.$t("video.updated"))+" "+n(f.quality),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):(i(),p(w,{key:1,class:"h-360px",loading:v.value,empty:""},null,8,["loading"]))]}),_:1},T,j));else return[a(P,{class:"module-page"},{header:s(()=>[]),default:s(()=>[d(l).list.length>0?(i(),p(R,{key:0,cols:"xs:2 s:4 m:5 l:6 xl:7 2xl:12",responsive:"screen","x-gap":"3 x:6 s:9 m:12","y-gap":"3 x:6 s:9 m:12"},{default:s(()=>[(i(!0),p(C,null,z(d(l).list,g=>(i(),p(h,{key:g.id,span:"1",class:"min-h-90px"},{default:s(()=>[a(k,{to:"/video/detail/"+g.id,class:"v-item",onClick:q},{default:s(()=>[a(y,{src:g.logo,alt:g.title},null,8,["src","alt"]),a("p",{class:"label"},n(g.title),1),a("p",{class:"tag"},n(o.$t("video.updated"))+" "+n(g.quality),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})):(i(),p(w,{key:1,class:"h-360px",loading:v.value,empty:""},null,8,["loading"]))]),_:1})]}),_:1},r)),d(l).list.length>0?e(m(J,{page:L.value,"onUpdate:page":[c=>L.value=c,F],"page-slot":10,"item-count":d(l).page.total,"page-size":d(l).page.pageSize,class:"mt-10px"},{label:s((c,x,T,j)=>{if(x)c.type=="page"?x(`<a${_e("href",`${M(c.node)}`)} data-v-7bced922${j}>${S(c.node)}</a>`):x("<!--[--><!--]-->");else return[c.type=="page"?(i(),p("a",{key:0,onClick:ce(()=>{},["prevent"]),href:`${M(c.node)}`},n(c.node),9,["onClick","href"])):(i(),p(C,{key:1},[],64))]}),_:1},r)):e("<!---->"),e("</div>")}}});const D=A.setup;A.setup=(G,u)=>{const b=ue();return(b.modules||(b.modules=new Set)).add("src/views/video/search/index.vue"),D?D(G,u):void 0};const Xe=xe(A,[["__scopeId","data-v-7bced922"]]);export{Xe as default};
