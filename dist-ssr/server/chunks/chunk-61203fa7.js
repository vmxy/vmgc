import{NSpace as V,NCard as M}from"naive-ui/dist/index.js";import{defineComponent as T,ref as h,onMounted as Y,mergeProps as z,withCtx as l,createVNode as r,useSSRContext as G}from"vue";import{ssrRenderComponent as p}from"vue/server-renderer";import C from"@antv/data-set";import{Chart as m}from"@antv/g2";const $=T({__name:"index",__ssrInlineRender:!0,setup(A){const y=h(),f=h(),b=h(),k=h(),g=h(),_=h();function E(){if(!y.value)return;const s=[{item:"rose 1",count:40,percent:.4},{item:"rose 2",count:40,percent:.4},{item:"rose 3",count:40,percent:.4},{item:"rose 4",count:40,percent:.4},{item:"rose 5",count:21,percent:.21},{item:"rose 6",count:17,percent:.17},{item:"rose 7",count:13,percent:.13},{item:"rose 8",count:9,percent:.09}],e=new m({container:y.value,autoFit:!0});e.data(s),e.coordinate("theta",{radius:.85}),e.scale("percent",{formatter:t=>`${t*100}%`}),e.tooltip({showTitle:!1,showMarkers:!1}),e.legend({position:"top"}),e.axis(!1),e.interval().adjust("stack").position("percent").color("item").label("percent",{offset:-40,style:{textAlign:"center",shadowBlur:2,shadowColor:"rgba(0, 0, 0, .45)",fill:"#fff"}}).tooltip("item*percent",(t,a)=>({name:t,value:`${a*100}%`})).style({lineWidth:1,stroke:"#fff"}),e.interaction("element-single-selected"),e.render()}function F(){fetch("https://gw.alipayobjects.com/os/antvdemo/assets/data/terrorism.json").then(s=>s.json()).then(s=>{const e=new C;if(!f.value)return;const t=new m({container:f.value,autoFit:!0,syncViewPadding:!0});t.scale({Deaths:{sync:!0,nice:!0},death:{sync:!0,nice:!0}});const a=e.createView().source(s);a.transform({type:"map",callback:o=>{const c={...o};return typeof o.Deaths=="string"&&(c.Deaths=o.Deaths.replace(",","")),c.Deaths=parseInt(o.Deaths,10),c.death=o.Deaths,c.year=o.Year,c}});const d=t.createView();d.data(a.rows),d.axis("Year",{subTickLine:{count:3,length:3},tickLine:{length:6}}),d.axis("Deaths",{label:{formatter:o=>o.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}}),d.line().position("Year*Deaths");const i=e.createView().source(a.rows);i.transform({type:"regression",method:"polynomial",fields:["year","death"],bandwidth:.1,as:["year","death"]});const R=t.createView();R.axis(!1),R.data(i.rows),R.line().position("year*death").style({stroke:"#969696",lineDash:[3,3]}).tooltip(!1),d.annotation().text({content:"趋势线",position:["1970",2500],style:{fill:"#8c8c8c",fontSize:14,fontWeight:300},offsetY:-70}),t.render()})}function O(){if(!b.value)return;const s=[{type:"未知",value:654,percent:.02},{type:"17 岁以下",value:654,percent:.02},{type:"18-24 岁",value:4400,percent:.2},{type:"25-29 岁",value:5300,percent:.24},{type:"30-39 岁",value:6200,percent:.28},{type:"40-49 岁",value:3300,percent:.14},{type:"50 岁以上",value:1500,percent:.06}],e=new m({container:b.value,autoFit:!0,height:500,padding:[50,20,50,20]});e.data(s),e.scale("value",{alias:"销售额(万)"}),e.axis("type",{tickLine:{alignTick:!1}}),e.axis("value",!1),e.tooltip({showMarkers:!1}),e.interval().position("type*value"),e.interaction("element-active"),s.forEach(t=>{e.annotation().text({position:[t.type,t.value],content:t.value,style:{textAlign:"center"},offsetY:-30}).text({position:[t.type,t.value],content:`${(t.percent*100).toFixed(0)}%`,style:{textAlign:"center"},offsetY:-12})}),e.render()}function P(){const s={Asia:"#1890FF",Americas:"#2FC25B",Europe:"#FACC14",Oceania:"#223273"};fetch("https://gw.alipayobjects.com/os/antvdemo/assets/data/bubble.json").then(e=>e.json()).then(e=>{if(!k.value)return;const t=new m({container:k.value,autoFit:!0,height:500});t.data(e),t.scale({LifeExpectancy:{alias:"人均寿命（年）",nice:!0},Population:{type:"pow",alias:"人口总数"},GDP:{alias:"人均国内生产总值($)",nice:!0},Country:{alias:"国家/地区"}}),t.axis("GDP",{label:{formatter(a){return`${(Number(a)/1e3).toFixed(0)}k`}}}),t.tooltip({showTitle:!1,showMarkers:!1}),t.legend("Population",!1),t.point().position("GDP*LifeExpectancy").size("Population",[4,65]).color("continent",a=>s[a]).shape("circle").tooltip("Country*Population*GDP*LifeExpectancy").style("continent",a=>({lineWidth:1,strokeOpacity:1,fillOpacity:.3,opacity:.65,stroke:s[a]})),t.interaction("element-active"),t.render()})}function L(){if(!g.value)return;const s=[{country:"Asia",year:"1750",value:502},{country:"Asia",year:"1800",value:635},{country:"Asia",year:"1850",value:809},{country:"Asia",year:"1900",value:5268},{country:"Asia",year:"1950",value:4400},{country:"Asia",year:"1999",value:3634},{country:"Asia",year:"2050",value:947},{country:"Africa",year:"1750",value:106},{country:"Africa",year:"1800",value:107},{country:"Africa",year:"1850",value:111},{country:"Africa",year:"1900",value:1766},{country:"Africa",year:"1950",value:221},{country:"Africa",year:"1999",value:767},{country:"Africa",year:"2050",value:133},{country:"Europe",year:"1750",value:163},{country:"Europe",year:"1800",value:203},{country:"Europe",year:"1850",value:276},{country:"Europe",year:"1900",value:628},{country:"Europe",year:"1950",value:547},{country:"Europe",year:"1999",value:729},{country:"Europe",year:"2050",value:408},{country:"Oceania",year:"1750",value:200},{country:"Oceania",year:"1800",value:200},{country:"Oceania",year:"1850",value:200},{country:"Oceania",year:"1900",value:460},{country:"Oceania",year:"1950",value:230},{country:"Oceania",year:"1999",value:300},{country:"Oceania",year:"2050",value:300}],e=new m({container:g.value,autoFit:!0,height:500});e.data(s),e.scale("year",{type:"linear",tickInterval:50}),e.scale("value",{nice:!0}),e.tooltip({showCrosshairs:!0,shared:!0}),e.area().adjust("stack").position("year*value").color("country"),e.line().adjust("stack").position("year*value").color("country"),e.interaction("element-highlight"),e.render()}function j(){if(!_.value)return;const s=[{item:"Design",a:70,b:30},{item:"Development",a:60,b:70},{item:"Marketing",a:50,b:60},{item:"Users",a:40,b:50},{item:"Test",a:60,b:70},{item:"Language",a:70,b:50},{item:"Technology",a:50,b:40},{item:"Support",a:30,b:40},{item:"Sales",a:60,b:40},{item:"UX",a:50,b:60}],{DataView:e}=C,t=new e().source(s);t.transform({type:"fold",fields:["a","b"],key:"user",value:"score"});const a=new m({container:_.value,autoFit:!0,height:500});a.data(t.rows),a.scale("score",{min:0,max:80}),a.coordinate("polar",{radius:.8}),a.tooltip({shared:!0,showCrosshairs:!0,crosshairs:{line:{style:{lineDash:[4,4],stroke:"#333"}}}}),a.axis("item",{line:null,tickLine:null,grid:{line:{style:{lineDash:null}}}}),a.axis("score",{line:null,tickLine:null,grid:{line:{type:"line",style:{lineDash:null}}}}),a.line().position("item*score").color("user").size(2),a.point().position("item*score").color("user").shape("circle").size(4).style({stroke:"#fff",lineWidth:1,fillOpacity:1}),a.area().position("item*score").color("user"),a.render()}function S(){E(),F(),O(),P(),L(),j()}return Y(()=>{S()}),(s,e,t,a)=>{const d=V,i=M;e(p(d,z({vertical:!0,size:16},a),{default:l((R,o,c,v)=>{if(o)o(p(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l((x,n,w,u)=>{if(n)n(`<div class="h-400px"${u}></div>`);else return[r("div",{ref_key:"pieRef",ref:y,class:"h-400px"},null,512)]}),_:1},c,v)),o(p(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l((x,n,w,u)=>{if(n)n(`<div class="h-400px"${u}></div>`);else return[r("div",{ref_key:"lineRef",ref:f,class:"h-400px"},null,512)]}),_:1},c,v)),o(p(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l((x,n,w,u)=>{if(n)n(`<div class="h-400px"${u}></div>`);else return[r("div",{ref_key:"barRef",ref:b,class:"h-400px"},null,512)]}),_:1},c,v)),o(p(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l((x,n,w,u)=>{if(n)n(`<div class="h-400px"${u}></div>`);else return[r("div",{ref_key:"scatterRef",ref:k,class:"h-400px"},null,512)]}),_:1},c,v)),o(p(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l((x,n,w,u)=>{if(n)n(`<div class="h-400px"${u}></div>`);else return[r("div",{ref_key:"areaRef",ref:g,class:"h-400px"},null,512)]}),_:1},c,v)),o(p(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l((x,n,w,u)=>{if(n)n(`<div class="h-400px"${u}></div>`);else return[r("div",{ref_key:"radarRef",ref:_,class:"h-400px"},null,512)]}),_:1},c,v));else return[r(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l(()=>[r("div",{ref_key:"pieRef",ref:y,class:"h-400px"},null,512)]),_:1}),r(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l(()=>[r("div",{ref_key:"lineRef",ref:f,class:"h-400px"},null,512)]),_:1}),r(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l(()=>[r("div",{ref_key:"barRef",ref:b,class:"h-400px"},null,512)]),_:1}),r(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l(()=>[r("div",{ref_key:"scatterRef",ref:k,class:"h-400px"},null,512)]),_:1}),r(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l(()=>[r("div",{ref_key:"areaRef",ref:g,class:"h-400px"},null,512)]),_:1}),r(i,{bordered:!1,class:"rounded-16px shadow-sm"},{default:l(()=>[r("div",{ref_key:"radarRef",ref:_,class:"h-400px"},null,512)]),_:1})]}),_:1},t))}}}),D=$.setup;$.setup=(A,y)=>{const f=G();return(f.modules||(f.modules=new Set)).add("src/views/plugin/charts/antv/index.vue"),D?D(A,y):void 0};export{$ as default};
