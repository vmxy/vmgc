import{t as S,b as C,x as O}from"./chunk-544fb087.js";/* empty css              *//* empty css              *//* empty css              */import{V as T}from"./chunk-b5430311.js";import{_ as Y,a as z,V as E,b as H}from"./chunk-03e38bfb.js";import{j,r as $,i as M,o as f,a as b,b as e,w as t,f as G,t as o,e as u,n as L,F as B,v as k,c as w,u as h,d,h as R,z as J,B as K}from"./chunk-b8a590ba.js";import{_ as P}from"./chunk-372590c2.js";import{d as Q}from"./chunk-96a2c380.js";import{_ as U}from"./chunk-c27b6911.js";import"./chunk-101896b7.js";const W={class:"text-36px"},X=j({__name:"info",props:{detail:{type:Object,required:!0}},setup(x){const m=x,v=S(),a=$(m.detail),c=$(!1);async function _(l){let s=await v.toggleFav(l);c.value=s}return M(m.detail,async l=>{c.value=!1,Object.assign(a.value,l),c.value=await v.hasFav(l.id),c.value&&v.saveFav(a.value)}),(l,s)=>{const n=P,i=d.NGi,p=d.NButton,q=Y,N=d.NSpace,D=d.NEllipsis,F=z,g=d.NFormItem,I=d.NForm,V=d.NGrid,A=d.NImage;return f(),b("div",null,[e(V,{cols:"10",collapsed:!1,responsive:"screen","item-responsive":!0,"x-gap":"10","y-gap":"20"},{default:t(()=>[e(i,{span:"10 xs:10 s:0",class:"text-align-center"},{default:t(()=>[e(n,{class:"info-logo",src:a.value.logo,alt:a.value.desc},null,8,["src","alt"])]),_:1}),e(i,{span:"10 xs:10 s:8"},{default:t(()=>[e(V,{cols:"10"},{default:t(()=>[e(i,{span:"10"},{default:t(()=>[G("h1",W,o(a.value.title),1)]),_:1}),e(i,{span:"10"},{default:t(()=>[e(N,null,{default:t(()=>[e(p,null,{default:t(()=>[u(o(a.value.year),1)]),_:1}),e(p,null,{default:t(()=>{var r;return[u(o(l.$t(`video.class.${((r=a.value)==null?void 0:r.class)||"other"}`)),1)]}),_:1}),e(p,{onClick:s[0]||(s[0]=r=>_(a.value))},{icon:t(()=>[e(q,{style:L({color:c.value?"#ff0000":"#ffffff"})},null,8,["style"])]),_:1})]),_:1})]),_:1}),e(i,{span:"10",class:"mt-10px"},{default:t(()=>[e(I,{ref:"formRef","label-placement":"left","label-align":"right","label-width":"80","require-mark-placement":"right-hanging",size:"medium","show-feedback":!1},{default:t(()=>[e(D,{"expand-trigger":"click","line-clamp":"2",tooltip:!1},{default:t(()=>[u(o(a.value.desc),1)]),_:1}),e(g,{label:l.$t("video.detail.director")},{default:t(()=>[(f(!0),b(B,null,k(a.value.directors,(r,y)=>(f(),w(F,{href:`/search?q=${r}`},{default:t(()=>[u(o(r||"")+o(y<a.value.directors.length-1?"/":""),1)]),_:2},1032,["href"]))),256))]),_:1},8,["label"]),e(g,{label:l.$t("video.detail.actor")},{default:t(()=>[(f(!0),b(B,null,k(a.value.actors,(r,y)=>(f(),w(F,{href:`/search?q=${r}`},{default:t(()=>[u(o(r||"")+o(y<a.value.actors.length-1?"/":""),1)]),_:2},1032,["href"]))),256))]),_:1},8,["label"]),e(g,{label:l.$t("video.detail.year")},{default:t(()=>[u(o(a.value.year),1)]),_:1},8,["label"]),e(g,{label:l.$t("video.detail.quality")},{default:t(()=>[u(o(a.value.quality),1)]),_:1},8,["label"]),e(g,{label:l.$t("video.detail.updateAt")},{default:t(()=>[u(o(h(Q)(a.value.updateAt).format("YYYY-MM-DD HH:mm:ss")),1)]),_:1},8,["label"])]),_:1},512)]),_:1}),e(i,{span:"10",class:"actions mt-10px"},{default:t(()=>[e(N,{align:"center"})]),_:1})]),_:1})]),_:1}),e(i,{span:"xs:0 s:2"},{default:t(()=>[e(A,{src:a.value.logo,style:{"margin-top":"40px"}},null,8,["src"])]),_:1})]),_:1})])}}}),Z=U(X,[["__scopeId","data-v-1066e536"]]),de=j({__name:"[id]",setup(x){const m=C(),v=S(),{proxy:a}=K(),c=R(()=>{let s=a.$route.params.id;return s instanceof Array?s[0]:s||""}),_=$(m.inSSR?a.$root.$attrs.detail:Object.assign({id:c.value}));J(()=>{l(c.value)});async function l(s){var i,p;(i=globalThis.$loadingBar)==null||i.start();let{data:n}=await O(s);return console.info("detail===",n),(p=globalThis.$loadingBar)==null||p.finish(),n?(Object.assign(_.value,n),a.$route.meta.title=n.title,m.setTitle(n.title),n):(v.deleteFav(s),n)}return(s,n)=>(f(),b("div",null,[e(h(Z),{detail:_.value},null,8,["detail"]),e(h(E),{detail:_.value},null,8,["detail"]),e(h(H),{id:_.value.id},null,8,["id"]),e(h(T))]))}});export{de as default};
