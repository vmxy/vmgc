import{j as z,h as O,r as f,z as P,i as j,m as oe,o as e,c as _,w as n,b as i,a as c,v as I,f as k,t as C,F as B,B as A,d as p,C as ae,e as Z,I as D,A as se,u as q,s as x}from"./chunk-b8a590ba.js";import{_ as le}from"./chunk-372590c2.js";import{b as U,E as re,o as F,c as ce,t as ie}from"./chunk-544fb087.js";import"./chunk-96a2c380.js";import{_ as G}from"./chunk-c27b6911.js";import{_ as de}from"./chunk-101896b7.js";/* empty css              */const ue={class:"label"},_e={class:"tag"},Ge=z({__name:"index",props:{id:{type:String,required:!0}},setup(a){const r=a,{proxy:h}=A(),d=U(),m=O(()=>{let t=r.id||h.$route.params.id;return t instanceof Array?t[0]:t}),g=f(d.inSSR?h.$root.$attrs.hot:[]);async function s(t){let{data:V}=await re(t);g.value=V.list.slice(0,24)}return P(async()=>{s(m.value)}),j(m,t=>{s(t)}),(t,V)=>{const H=le,Q=oe("router-link"),L=p.NGi,M=p.NGrid,S=p.NCard;return e(),_(S,{title:t.$t("video.top.rec"),class:"shadow-sm mt-16px"},{default:n(()=>[i(M,{cols:"xs:2 s:2 m:5 l:6 xl:7 2xl:12",responsive:"screen","x-gap":"6 m:12","y-gap":"6 m:12"},{default:n(()=>[(e(!0),c(B,null,I(g.value,y=>(e(),_(L,{span:"1",key:y.id,class:"min-h-90px"},{default:n(()=>[i(Q,{to:"/video/detail/"+y.id,class:"v-item"},{default:n(()=>[i(H,{src:y.logo,alt:y.title},null,8,["src","alt"]),k("p",ue,C(y.title),1),k("p",_e,C(t.$t("video.updated"))+" "+C(y.quality),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1},8,["title"])}}}),pe=["href","onClickCapture","referrerpolicy"],he=z({__name:"g-a",props:{href:{type:String},label:{type:String},button:{type:Boolean,default:!1},rel:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:String,default:""}},setup(a){const r=a,h=F();function d(m){if(m.preventDefault(),m.stopPropagation(),r.disabled)return;let g=r.href;h.push(g)}return(m,g)=>(e(),c("a",{class:D(["g-a",a.button?"g-a-button":"",a.disabled?"disabled":"",a.type?"g-a-"+a.type:""]),href:a.href,onClickCapture:se(d,["stop","prevent"]),referrerpolicy:a.rel?"same-origin":"no-referrer"},[ae(m.$slots,"default",{},()=>[Z(C(a.label),1)],!0)],42,pe))}}),me=G(he,[["__scopeId","data-v-3aeddaf6"]]),ve={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},fe=k("path",{fill:"currentColor",d:"m12 21.35l-1.45-1.32C5.4 15.36 2 12.27 2 8.5C2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35Z"},null,-1),ge=[fe];function ye(a,r){return e(),c("svg",ve,ge)}const We={name:"mdi-heart",render:ye},be=z({__name:"qrcode",setup(a,{expose:r}){const h=f(),d=f(!1);r({show:async s=>{ssr||(d.value=!0,await wait(100),g({content:s,logo:"/logo.png"}))}});async function g(s){let t=await de(()=>import("./chunk-c1449bd1.js"),[]);t=t.default||t,console.info("====QRCode",t),await new t({canvas:h.value,content:s.content,width:250,download:!1,logo:{src:s.logo||""},nodeQrCodeOptions:{margin:1}}).toCanvas()}return(s,t)=>{const V=p.NModal;return e(),_(V,{show:d.value,"onUpdate:show":t[0]||(t[0]=H=>d.value=H),class:"custom-card",preset:"card",style:{width:"250px"},title:"",size:"huge",closable:!1,bordered:!1,segmented:{content:"soft",footer:"soft"},"content-style":"padding: 0;margin: 0;"},{"header-extra":n(()=>[]),footer:n(()=>[]),default:n(()=>[k("canvas",{ref_key:"canvasRef",ref:h,width:"250px",height:"250px"},null,512)]),_:1},8,["show"])}}}),xe={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},we=k("path",{fill:"currentColor",d:"M4 4h6v6H4V4m16 0v6h-6V4h6m-6 11h2v-2h-2v-2h2v2h2v-2h2v2h-2v2h2v3h-2v2h-2v-2h-3v2h-2v-4h3v-1m2 0v3h2v-3h-2M4 20v-6h6v6H4M6 6v2h2V6H6m10 0v2h2V6h-2M6 16v2h2v-2H6m-2-5h2v2H4v-2m5 0h4v4h-2v-2H9v-2m2-5h2v4h-2V6M2 2v4H0V2a2 2 0 0 1 2-2h4v2H2m20-2a2 2 0 0 1 2 2v4h-2V2h-4V0h4M2 18v4h4v2H2a2 2 0 0 1-2-2v-4h2m20 4v-4h2v4a2 2 0 0 1-2 2h-4v-2h4Z"},null,-1),$e=[we];function Ce(a,r){return e(),c("svg",xe,$e)}const ke={name:"mdi-qrcode-scan",render:Ce},Ve={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},He=k("path",{fill:"currentColor",d:"M19 17h3l-4 4l-4-4h3V3h2v14M9 13H7c-1.1 0-2 .9-2 2v1a2 2 0 0 0 2 2h2v1H5v2h4c1.11 0 2-.89 2-2v-4a2 2 0 0 0-2-2m0 3H7v-1h2v1M9 3H7c-1.1 0-2 .9-2 2v4a2 2 0 0 0 2 2h2c1.11 0 2-.89 2-2V5a2 2 0 0 0-2-2m0 6H7V5h2v4Z"},null,-1),Me=[He];function Re(a,r){return e(),c("svg",Ve,Me)}const Se={name:"mdi-sort-numeric-ascending",render:Re},Ne={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"},Ie=k("path",{fill:"currentColor",d:"M19 7h3l-4-4l-4 4h3v14h2M9 21H5v-2h4v-1H7a2 2 0 0 1-2-2v-1c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v4c0 1.11-.89 2-2 2m0-6H7v1h2M7 3h2a2 2 0 0 1 2 2v4c0 1.11-.89 2-2 2H7a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2m0 6h2V5H7Z"},null,-1),Be=[Ie];function Le(a,r){return e(),c("svg",Ne,Be)}const qe={name:"mdi-sort-numeric-descending",render:Le},ze={key:0},Qe=["name","tab"],Te=["href"],Ee={key:0,class:"text-24px"},Oe=z({__name:"line",props:{detail:{type:Object,required:!0},top:{type:Number,default:16}},setup(a){const r=a,h=!1;ce();const d=U(),m=ie();F();const{proxy:g}=A(),s=f(r.detail),t=f(""),V=f(!0),H=f(g.$route.params.id),Q=f(),L=f(),M=O(()=>d.screenWidth<1024),S=f({});async function y(){var l,w,R,b;if(!s.value||!((l=s.value)!=null&&l.lines))return"";let o=(R=(w=s.value)==null?void 0:w.lines)==null?void 0:R.find(u=>u.items.find(N=>N.id==H.value));if(o||(o=(b=s.value)==null?void 0:b.lines[0]),o){for(let u of o.items){let N=await m.hasPlayed(u.id);S.value[u.id]=N}console.info("playeds",S.value)}return(o==null?void 0:o.id)||""}function T(o){V.value=!1,t.value=o}function E(o=!0){s.value.lines.forEach(l=>{l.items.sort((w,R)=>{let b=parseInt(w.label.replace(/[^\d]+/g,"")),u=parseInt(R.label.replace(/[^\d]+/g,""));return o?b-u:u-b})})}async function W(){var l;let o=((l=globalThis.location)==null?void 0:l.href)||"";L.value.show(o)}return P(async()=>{let o=await y();o&&T(o)}),j(r.detail,async o=>{Object.assign(s.value,o);let l=await y();l&&T(l)},{immediate:!0}),(o,l)=>{const w=p.NSpace,R=qe,b=p.NIcon,u=p.NButton,N=Se,J=ke,K=be,X=me,Y=p.NScrollbar,ee=p.NTabPane,te=p.NTabs,ne=p.NCard;return e(),_(ne,{class:D([`mt-${r.top}px`,"line"]),ref_key:"lineRef",ref:Q},{default:n(()=>[q(h)?(e(),c("div",ze,[(e(!0),c(B,null,I(s.value.lines,v=>(e(),c("div",{name:v.id,tab:v.label},[i(w,null,{default:n(()=>[(e(!0),c(B,null,I(v.items,$=>(e(),c("a",{href:`/video/player/${$.id}`},C($.label),9,Te))),256))]),_:2},1024)],8,Qe))),256))])):x("",!0),q(h)?x("",!0):(e(),_(te,{key:1,value:t.value,type:"line",animated:"",trigger:"click","justify-content":"end",ref:"tabs","onUpdate:value":T},{prefix:n(()=>[i(w,null,{default:n(()=>[M.value?(e(),c("span",Ee,C(o.$t("video.detail.line")),1)):x("",!0),M.value?(e(),_(u,{key:1,type:"error",size:"small",text:"",onClick:l[0]||(l[0]=v=>E(!0))},{icon:n(()=>[i(b,null,{default:n(()=>[i(R)]),_:1})]),_:1})):x("",!0),M.value?(e(),_(u,{key:2,type:"warning",size:"small",text:"",onClick:l[1]||(l[1]=v=>E(!1))},{icon:n(()=>[i(b,null,{default:n(()=>[i(N)]),_:1})]),_:1})):x("",!0),q(d).isMobile?x("",!0):(e(),_(u,{key:3,type:"primary",size:M.value?"small":"large",text:"",onClick:W},{icon:n(()=>[i(b,null,{default:n(()=>[i(J)]),_:1})]),_:1},8,["size"])),q(d).inSSR?x("",!0):(e(),_(K,{key:4,ref_key:"refQRCode",ref:L},null,512))]),_:1})]),default:n(()=>[(e(!0),c(B,null,I(s.value.lines,v=>(e(),_(ee,{name:v.id,tab:v.label},{default:n(()=>[i(Y,{class:"max-h-220px"},{default:n(()=>[v.id==t.value?(e(!0),c(B,{key:0},I(v.items,$=>(e(),_(X,{button:"",disabled:H.value==$.id,href:`/video/xplay/${$.id}`,type:S.value[$.id]?"red":""},{default:n(()=>[Z(C($.label),1)]),_:2},1032,["disabled","href","type"]))),256)):x("",!0)]),_:2},1024)]),_:2},1032,["name","tab"]))),256))]),_:1},8,["value"]))]),_:1},8,["class"])}}}),Je=G(Oe,[["__scopeId","data-v-c880cce4"]]);export{Je as V,We as _,me as a,Ge as b};
